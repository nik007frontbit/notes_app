# Flutter Notes App

A production-ready Flutter application for managing notes, built with Firebase and Cubit.

## ğŸ›  Tech Stack
- **Framework:** Flutter
- **Backend:** Firebase Authentication & Cloud Firestore
- **State Management:** Cubit (`flutter_bloc` & `equatable`)
- **Dependency Injection:** `RepositoryProvider`
- **Architecture:** Feature-first directory structure

## ğŸš€ Features
- **Authentication:** Login and Sign Up with email/password.
- **Session Persistence:** Users stay logged in across app restarts.
- **Notes CRUD:** Create, Read, Update, and Delete notes.
- **Security:** Notes are linked to specific users; users only see their own notes.
- **Search:** Local search to filter notes by title.
- **Premium UI:** Material 3 design with vibrant custom color palette (Orange & Cream) and dark mode support.

## ğŸ“¦ Project Setup

### Prerequisites
- Flutter SDK installed (latest stable version recommended, ~ 3.38).

### Installation

1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   cd notes
   ```

2. **Install Dependencies:**
   ```bash
   flutter pub get
   ```

### Running the App

To run the application in debug mode:

```bash
flutter run
```

To build for release (Android):
```bash
flutter build apk
```

## ğŸ—„ï¸ Database Schema

The app uses Cloud Firestore (NoSQL). The schema consists of a single collection `notes`.

### Collection: `notes`
Each document represents a single note and contains the following fields:

| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | String | Unique document ID (auto-generated by Firestore). |
| `user_id` | String | The UID of the user who owns the note (used for security rules). |
| `title` | String | The title of the note. |
| `content` | String | The main body content of the note. |
| `created_at` | Timestamp | Server timestamp of creation. |
| `updated_at` | Timestamp | Server timestamp of last update. |

**Security Rules:**
Queries are filtered by `user_id == request.auth.uid` to ensure strict data isolation.

## ğŸ” Authentication Approach

- **Provider:** Firebase Authentication (Email/Password).
- **State Management:** `AuthCubit` handles the authentication state (`Initial`, `Loading`, `Authenticated`, `Unauthenticated`, `Error`).
- **Session Persistence:** The app listens to `FirebaseAuth.instance.authStateChanges()` stream in the repository layer. When the app launches, `App` widget listens to this stream via `AuthCubit` to automatically redirect the user to the Home screen if a session exists, or Login screen otherwise.
- **Navigation:** Explicit navigation (`pushAndRemoveUntil`) is used upon successful login/signup to clear the back stack.

## ğŸ’¡ Assumptions & Trade-offs

- **Local Search:** search is implemented client-side by filtering the list of loaded notes. This is efficient for a reasonable number of notes but might require server-side indexing (e.g., Algolia) for very large datasets.
- **Offline Mode:** While Firestore provides some offline persistence out-of-the-box, the app assumes a stable internet connection for auth and critical updates.
- **Styling:** A custom "Orange & Cream" color palette was chosen for a unique aesthetic, prioritizing a "warm" feel over standard Material colors.
- **State Management:** `Bloc/Cubit` was chosen over `Provider` or `Riverpod` for better separation of concerns and testability, even though the app is relatively simple.

## ğŸ— Directory Structure
```text
/lib
  /core (app_theme)
  /widgets (common_widgets)
  /repositories (auth_repository, notes_repository)
  /features
    /auth (cubit, screens)
    /notes (cubit, models, screens)
  main.dart
```
